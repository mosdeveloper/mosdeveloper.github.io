<!DOCTYPE html>
<html>
<head>
  <title>Zoom Meeting</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Required dependencies (from Zoom CDN) -->
  <script src="https://source.zoom.us/3.11.5/lib/vendor/react.min.js"></script>
  <script src="https://source.zoom.us/3.11.5/lib/vendor/react-dom.min.js"></script>
  <script src="https://source.zoom.us/3.11.5/lib/vendor/redux.min.js"></script>
  <script src="https://source.zoom.us/3.11.5/lib/vendor/redux-thunk.min.js"></script>
  <script src="https://source.zoom.us/3.11.5/lib/vendor/lodash.min.js"></script>
  
  <!-- Zoom Web SDK -->
  <script src="https://source.zoom.us/zoom-meeting-3.11.5.min.js"></script>
  <link rel="stylesheet" href="https://source.zoom.us/3.11.5/css/bootstrap.css" />
  <link rel="stylesheet" href="https://source.zoom.us/3.11.5/css/react-select.css" />
  
  <style>
    html, body { height: 100%; margin: 0; padding: 0; }
    #zmmtg-root { height: 100%; }
  </style>
</head>
<body>
  <div id="zmmtg-root"></div>
  <script>
    // Parse URL params
    const urlParams = new URLSearchParams(window.location.search);
    const sdkKey = urlParams.get("sdkKey");
    const signature = urlParams.get("signature");
    const meetingNumber = urlParams.get("meetingNumber");
    const userName = urlParams.get("userName");
    const userEmail = urlParams.get("userEmail");
    const passWord = urlParams.get("password");
    const role = parseInt(urlParams.get("role") || "0");

    ZoomMtg.setZoomJSLib("https://source.zoom.us/3.11.5/lib", "/av");
    ZoomMtg.preLoadWasm();
    ZoomMtg.prepareWebSDK();

    ZoomMtg.init({
      leaveUrl: "https://zoom.us",
      success: () => {
        ZoomMtg.join({
          sdkKey,
          signature,
          meetingNumber,
          userName,
          userEmail,
          passWord,
          success: () => console.log("Joined meeting"),
          error: (err) => console.error("Join error", err)
        });
      },
      error: (err) => console.error("Init error", err)
    });
  </script>
</body>
</html>
